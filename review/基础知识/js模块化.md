#   JavaScript模块化规范

## 1、模块化概述

### 1.1.什么是模块化？

- 将程序文件依据一定规则**拆分**成多个文件，这种编码方式就是**模块化**的编码方式。
- 拆分出来**每个文件就是一个模块**，模块中的数据都是**私有的**，模块之间相互**隔离**。
- 同时也能通过一些手段，可以把模块中的指定数据“**交出去**”，供其他模块使用

### 1.2为什么需要模块化

随着应用的复杂度越来越高，其代码和文件数量都会急剧增加，会逐渐引发以下问题：

1、全局污染问题

2、依赖混乱问题

3、数据安全问题

## 2、有哪些模块化规范？

commonjs和es6

## 3、导入和导出的概念

## 4、CommonJS规范

### 4.1导出数据

在CommonJS规范中，导出数据有两种方式

第一种方式：module.exports=value

第二种方式：exports.name=value

**注意点如下：**

1、每个模块内部的：this、exports、module.exports在初始时，都指向**同一个**空对象，该对象就是当前模块导出的数据

2、无论如何修改导出对象，最终导出的都是module.exports的值

3、exports是对module.exports的初始引用，仅为了方便给导出对象添加属性，所以不能使用exports=value的形式导出数据，但是可以使用module.exports=xxx导出数据

### 4.2导入数据

在CJS模块化标准中，使用内置的require函数进行导入数据

### 4.3扩展理解

//输出当前函数的名称,之所以能使用module是因为函数中传入了module参数

console.log(arguments.callee.toString()); 

### 4.4浏览器端运行

CJS是一个双端规范，可以用browsefly编译使之能在浏览器端运行

## 5、ES6规范

ES6模块化规范是一个**官方标准**的规范，它是在语言标准的层面上实现了模块化功能，是目前**最流行**的模块化规范，且浏览器与服务端均支持该规范。

### 5.1Node中运行ES6模块

1、后缀名改为mjs

2、加一个package.json文件，在里面配置"type":"module"

### 5.2导出数据

ES6模块化提供3种导出方式：分别导出、统一导出、默认导出。并且上述多种导出方式，可以同时使用。

语法分别为

1、分别导出 export const name ='张三'

2、统一导出 export{XXX,YYY,ZZZ} ，这里的花括号不是对象，

3、默认导入 export default {a:a,b:b}，这里的花括号是对象

### 5.3导入数据

对于ES6模块化来说，使用何种**导入方式**，要根据**导出方式**决定

1、导入全部【通用】import * as XXX from ‘文件地址’

2、命名导入（对应导出方式：分别导出、统一导出）

3、默认导入（对应导出方式：默认导出）

4、命名导入和默认导入可以混合使用

5、动态导入（通用），会把所有的导出都接收

6、import可以不接收任何数据

### 5.4数据引用问题 

import引入的东西都是常量

库封装的时候交出去的数据必须要是常量



